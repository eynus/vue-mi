{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_array-methods.js","webpack:///./node_modules/core-js/modules/_is-array.js","webpack:///./node_modules/core-js/modules/es6.array.find-index.js","webpack:///./src/views/Product.vue?235b","webpack:///./node_modules/core-js/modules/_array-species-create.js","webpack:///./src/views/Product.vue?83d7","webpack:///src/views/Product.vue","webpack:///./src/views/Product.vue?880b","webpack:///./src/views/Product.vue","webpack:///./node_modules/core-js/modules/_array-species-constructor.js"],"names":["ctx","__webpack_require__","IObject","toObject","toLength","asc","module","exports","TYPE","$create","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","create","$this","callbackfn","that","val","res","O","self","f","length","index","result","undefined","push","cof","Array","isArray","arg","$export","$find","KEY","forced","P","F","findIndex","this","arguments","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Product_vue_vue_type_style_index_0_id_443d2d13_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Product_vue_vue_type_style_index_0_id_443d2d13_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","speciesConstructor","original","render","_vm","_h","$createElement","_c","_self","attrs","allProShow","cartNum","staticClass","ref","src","alt","_v","_s","proInfo","name","desc","price","prop1_name","_l","version","key","class","active","selectedVersionIndex","on","click","$event","changeVersion","href","prop1_value","prop2_name","idx2","color","idx","selectedColorIndex","changeColor","prop2_value","_e","id","addToCart","visible","dialogVisible","width","update:visible","slot","type","goToCart","dialogLoginVisible","to","staticRenderFns","Productvue_type_script_lang_js_","data","selectedSkuId","selectedColor","components","appHead","Header","computed","Object","objectSpread","vuex_esm","created","_this","$route","params","api","get","_silent","then","console","log","$refs","pImg","options","list","imgs","sku_id","loggedIn","methods","_this2","post","$router","vi","_this3","el","ci","views_Productvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","isObject","SPECIES","C","constructor","prototype"],"mappings":"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","file":"js/chunk-400c38a0.d37efc86.js","sourcesContent":["// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","'use strict';\n// 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(6);\nvar KEY = 'findIndex';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=style&index=0&id=443d2d13&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=style&index=0&id=443d2d13&scoped=true&lang=css&\"","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('app-head',{attrs:{\"allProShow\":false,\"cartNum\":_vm.cartNum}}),_c('div',{staticClass:\"product\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"pro-view\"},[_c('div',{staticClass:\"view-list\"},[_c('img',{ref:\"pImg\",attrs:{\"src\":\"\",\"alt\":\"\"}})])]),_c('div',{staticClass:\"pro-info\"},[_c('h1',{staticClass:\"pro-title\"},[_vm._v(_vm._s(_vm.proInfo.name))]),_c('p',{staticClass:\"pro-desc\"},[_vm._v(_vm._s(_vm.proInfo.desc))]),_c('div',{staticClass:\"pro-price\"},[_c('span',[_c('label',{staticClass:\"price\"},[_vm._v(_vm._s(_vm.proInfo.price))]),_vm._v(\"元\\n          \")])]),_c('div',{staticClass:\"pro-choose\"},[_c('div',{staticClass:\"choose1\"},[_c('p',{staticClass:\"choose-title\"},[_vm._v(\"\\n              选择\\n              \"),_c('span',{staticClass:\"prop-name\"},[_vm._v(_vm._s(_vm.proInfo.prop1_name))])]),_c('ul',{staticClass:\"choose-list clearfix\"},_vm._l((_vm.proInfo.options),function(version,index){return _c('li',{key:(\"version_\" + index),class:{active:_vm.selectedVersionIndex===index},on:{\"click\":function($event){return _vm.changeVersion(index)}}},[_c('a',{attrs:{\"href\":\"javascript:;\"}},[_c('span',{staticClass:\"list-name\"},[_vm._v(_vm._s(version.prop1_value))]),_c('span',{staticClass:\"list-price\"},[_c('label',{staticClass:\"price\"},[_vm._v(_vm._s(version.price))]),_vm._v(\"元\\n                  \")])])])}),0)]),_c('div',{staticClass:\"choose2\"},[_c('p',{staticClass:\"choose-title\"},[_vm._v(\"\\n              选择\\n              \"),_c('span',{staticClass:\"prop-name\"},[_vm._v(_vm._s(_vm.proInfo.prop2_name))])]),_vm._l((_vm.proInfo.options),function(version,idx2){return _c('ul',{key:(\"v_\" + idx2),staticClass:\"choose-list clearfix\"},[(idx2 === _vm.selectedVersionIndex)?_vm._l((version.list),function(color,idx){return _c('li',{key:(\"color_\" + idx),class:{active:_vm.selectedColorIndex===idx},on:{\"click\":function($event){return _vm.changeColor(idx)}}},[_c('a',{attrs:{\"href\":\"javascript:;\"}},[_c('span',{staticClass:\"list-name\"},[_vm._v(_vm._s(color.prop2_value))])])])}):_vm._e()],2)})],2)]),_c('div',{staticClass:\"pro-btn\"},[_c('a',{attrs:{\"href\":\"javascript:;\",\"id\":\"addCart\"},on:{\"click\":_vm.addToCart}},[_vm._v(\"加入购物车\")])]),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('span',[_vm._v(\"成功加入购物车！\")]),_c('span',[_vm._v(\"点击“确定”按钮前往购物车查看\")]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.goToCart}},[_vm._v(\"确 定\")])],1)]),_c('el-dialog',{attrs:{\"visible\":_vm.dialogLoginVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.dialogLoginVisible=$event}}},[_c('span',[_vm._v(\"请先登录\")]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogLoginVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"}},[_c('router-link',{attrs:{\"to\":\"/login\"}},[_vm._v(\"确 定\")])],1)],1)])],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <app-head :allProShow=\"false\" :cartNum=\"cartNum\"></app-head>\r\n    <div class=\"product\">\r\n      <div class=\"container\">\r\n        <div class=\"pro-view\">\r\n          <div class=\"view-list\">\r\n            <img src alt ref=\"pImg\">\r\n          </div>\r\n          <!-- <div class=\"view-control\">\r\n            <div class=\"control-lr\">\r\n              <a href=\"#\" class=\"control-prev\">上一张</a>\r\n              <a href=\"#\" class=\"control-next\">下一张</a>\r\n            </div>\r\n            <div class=\"control-page\"></div>\r\n          </div>-->\r\n        </div>\r\n        <div class=\"pro-info\">\r\n          <h1 class=\"pro-title\">{{proInfo.name}}</h1>\r\n          <p class=\"pro-desc\">{{proInfo.desc}}</p>\r\n          <div class=\"pro-price\">\r\n            <span>\r\n              <label class=\"price\">{{proInfo.price}}</label>元\r\n            </span>\r\n          </div>\r\n          <div class=\"pro-choose\">\r\n            <div class=\"choose1\">\r\n              <p class=\"choose-title\">\r\n                选择\r\n                <span class=\"prop-name\">{{proInfo.prop1_name}}</span>\r\n              </p>\r\n              <ul class=\"choose-list clearfix\">\r\n                <li\r\n                  v-for=\"(version,index) in proInfo.options\"\r\n                  :key=\"`version_${index}`\"\r\n                  :class=\"{active:selectedVersionIndex===index}\"\r\n                  @click=\"changeVersion(index)\"\r\n                >\r\n                  <a href=\"javascript:;\">\r\n                    <span class=\"list-name\">{{version.prop1_value}}</span>\r\n                    <span class=\"list-price\">\r\n                      <label class=\"price\">{{version.price}}</label>元\r\n                    </span>\r\n                  </a>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n            <div class=\"choose2\">\r\n              <p class=\"choose-title\">\r\n                选择\r\n                <span class=\"prop-name\">{{proInfo.prop2_name}}</span>\r\n              </p>\r\n              <ul\r\n                class=\"choose-list clearfix\"\r\n                v-for=\"(version,idx2) in proInfo.options\"\r\n                :key=\"`v_${idx2}`\"\r\n              >\r\n                <template v-if=\"idx2 === selectedVersionIndex\">\r\n                  <li\r\n                    v-for=\"(color,idx) in version.list\"\r\n                    :key=\"`color_${idx}`\"\r\n                    :class=\"{active:selectedColorIndex===idx}\"\r\n                    @click=\"changeColor(idx)\"\r\n                  >\r\n                    <a href=\"javascript:;\">\r\n                      <span class=\"list-name\">{{color.prop2_value}}</span>\r\n                    </a>\r\n                  </li>\r\n                </template>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n          <div class=\"pro-btn\">\r\n            <a href=\"javascript:;\" id=\"addCart\" @click=\"addToCart\">加入购物车</a>\r\n          </div>\r\n          <el-dialog :visible.sync=\"dialogVisible\" width=\"30%\">\r\n            <span>成功加入购物车！</span>\r\n            <span>点击“确定”按钮前往购物车查看</span>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n              <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n              <el-button type=\"primary\" @click=\"goToCart\">确 定</el-button>\r\n            </span>\r\n          </el-dialog>\r\n          <el-dialog :visible.sync=\"dialogLoginVisible\" width=\"30%\">\r\n            <span>请先登录</span>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n              <el-button @click=\"dialogLoginVisible = false\">取 消</el-button>\r\n              <el-button type=\"primary\" ><router-link to=\"/login\">确 定</router-link></el-button>\r\n            </span>\r\n          </el-dialog>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport appHead from \"../components/Header\";\r\nimport api from \"../../utils/api\";\r\nimport { mapState, mapActions } from \"vuex\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      proInfo: {},\r\n      selectedVersionIndex: 0,\r\n      selectedColorIndex: 0,\r\n      selectedSkuId: \"\",\r\n      selectedColor: \"\",\r\n      dialogVisible: false, //对话框\r\n      cartNum: 0 ,//购物车数量\r\n      dialogLoginVisible:false,//登录提示对话框\r\n    };\r\n  },\r\n  components: {\r\n    appHead\r\n  },\r\n  computed: {\r\n    ...mapState(\"user\", [\"loggedIn\"])\r\n    // selectImg(){\r\n    //     return this.proInfo.options[this.selectedVersionIndex].list[this.selectedColorIndex].imgs[0];\r\n    // }\r\n  },\r\n  created() {\r\n    const id = this.$route.params.id;\r\n    // 商品详细\r\n    api.get(\"/productDetail?pid=\" + id, { _silent: true }).then(data => {\r\n      console.log(data);\r\n      this.proInfo = data;\r\n      this.$refs.pImg.src = this.proInfo.options[\r\n        this.selectedVersionIndex\r\n      ].list[this.selectedColorIndex].imgs[0];\r\n      this.selectedColor = this.proInfo.options[0].list[0].prop2_value;\r\n      this.selectedSkuId = this.proInfo.options[0].list[0].sku_id;\r\n    });\r\n    if (this.loggedIn) {\r\n      api.get(\"/user/cart\").then(data => {\r\n        this.cartNum = data.length;\r\n      });\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(\"user\", [\"checklogin\"]),\r\n    addToCart() {\r\n      if (!this.loggedIn) {\r\n       this.dialogLoginVisible=true;\r\n      } else {\r\n        //   加入购物车\r\n        api.post(\"/user/addCart\", { sku_id: this.selectedSkuId }).then(\r\n          () => {\r\n            this.dialogVisible = true;\r\n            this.cartNum++;\r\n          },\r\n          () => {\r\n            this.$router.push(\"/login\");\r\n          }\r\n        );\r\n      }\r\n    },\r\n    goToCart() {\r\n      this.dialogVisible = false;\r\n      this.$router.push(\"/cart\");\r\n    },\r\n    changeVersion(vi) {\r\n      this.selectedVersionIndex = vi;\r\n      this.selectedColorIndex = this.proInfo.options[vi].list.findIndex(\r\n        el => el.prop2_value == this.selectedColor\r\n      );\r\n      if (this.selectedColorIndex < 0) {\r\n        // console.log(\"没找着\", this.selectedColor);\r\n\r\n        this.selectedColorIndex = 0;\r\n      }\r\n      this.$refs.pImg.src = this.proInfo.options[vi].list[\r\n        this.selectedColorIndex\r\n      ].imgs[0];\r\n      this.selectedSkuId = this.proInfo.options[vi].list[\r\n        this.selectedColorIndex\r\n      ].sku_id;\r\n    },\r\n    changeColor(ci) {\r\n      this.selectedColorIndex = ci;\r\n      this.$refs.pImg.src = this.proInfo.options[\r\n        this.selectedVersionIndex\r\n      ].list[ci].imgs[0]; //图片\r\n      this.selectedColor = this.proInfo.options[this.selectedVersionIndex].list[\r\n        ci\r\n      ].prop2_value; //颜色\r\n      this.selectedSkuId = this.proInfo.options[this.selectedVersionIndex].list[\r\n        ci\r\n      ].sku_id; //sku_id\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import url(\"../css/product.css\");\r\n@import url(\"../css/iconfont.css\");\r\n@import url(\"../css/style.css\");\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Product.vue?vue&type=template&id=443d2d13&scoped=true&\"\nimport script from \"./Product.vue?vue&type=script&lang=js&\"\nexport * from \"./Product.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Product.vue?vue&type=style&index=0&id=443d2d13&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"443d2d13\",\n  null\n  \n)\n\nexport default component.exports","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n"],"sourceRoot":""}